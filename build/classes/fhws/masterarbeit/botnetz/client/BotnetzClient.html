<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Botnetz</title>
	<script type="text/javascript">
		var botnetzWs = null;
		var output = null;
		var text_toSend = null;
	
		function init()
		{
			var wsUri = "ws://localhost:8080/fhws.masterarbeit.botnetz/botnetz";
			botnetzWs = new WebSocket(wsUri);
			output = document.getElementById("div_output");
			
			botnetzWs.onopen = function(){
											writeToScreen("Connected");
										 }
			botnetzWs.onmessage = function(evt){
													eval(evt.data);											
											   };
			botnetzWs.onerror = function(evt){
												writeToScreen("ERROR: " + evt.data);
											 };
		}
		
		function sendText()
		{
			text_toSend = document.getElementById("text_toSend").value;
			botnetzWs.send(text_toSend);
			writeToScreen("Sent this: " + text_toSend);
		}
		
		function writeToScreen(message)
		{
			var pre = document.createElement("p");
		    pre.style.wordWrap = "break-word";
		    pre.innerHTML = message;
		    output.appendChild(pre);
		}
		
		window.addEventListener("load", init, false);
	</script>
</head>
<body>
	<form>
		<input type="text" id="text_toSend">
		<input type="button" value="Senden" id="button_send" onclick="sendText()">
	</form>
	<div id="div_output">
	</div>
</body>
</html>